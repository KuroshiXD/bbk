<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ñ–∏–ª—å–º–æ–≤</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">
  <header class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">üé¨ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–¥–±–æ—Ä–∞ —Ñ–∏–ª—å–º–æ–≤</h1>
    <a th:href="@{/movies}" class="btn btn-outline-secondary btn-sm">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ–∏—Å–∫—É</a>
  </header>

  <div th:if="${recommendations.isEmpty()}">
    <div class="alert alert-warning text-center p-4">
      <h4>üòî –§–∏–ª—å–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h4>
      <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –æ—Å–ª–∞–±–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.</p>
      <a th:href="@{/movies}" class="btn btn-primary mt-2">–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</a>
    </div>
  </div>

  <div th:unless="${recommendations.isEmpty()}">
    <div class="mb-3">
      <h5>–ù–∞–π–¥–µ–Ω–æ —Ñ–∏–ª—å–º–æ–≤: <span th:text="${recommendations.size()}"></span></h5>
      <p class="text-muted">–û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏</p>
    </div>

    <div class="row g-3">
      <div th:each="movieRec : ${recommendations}" class="col-md-6 col-lg-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title" th:text="${movieRec.movie.title}"></h5>
            <span class="badge bg-info text-dark" th:text="${movieRec.score} + ' –±–∞–ª–ª–æ–≤'"></span>
            <ul class="list-unstyled small mt-2">
              <li><strong>–ì–æ–¥:</strong> <span th:text="${movieRec.movie.year}"></span></li>
              <li><strong>–†–µ–∂–∏—Å—Å–µ—Ä:</strong> <span th:text="${movieRec.movie.director}"></span></li>
              <li><strong>–†–µ–π—Ç–∏–Ω–≥ IMDB:</strong> ‚≠ê <span th:text="${movieRec.movie.viewerRating}"></span></li>
              <li><strong>–ñ–∞–Ω—Ä:</strong> <span th:text="${movieRec.movie.genre}"></span></li>
<!--              <li><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:</strong> <span th:text="${#strings.listJoin(movieRec.movie.platforms, ', ')}"></span></li>-->
              <li><strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> <span th:text="${movieRec.movie.duration}"></span></li>
            </ul>
            <div>
              <h6>–ü–æ—á–µ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ:</h6>
              <ul>
                <li th:each="reason : ${movieRec.reasons}" th:text="${reason}"></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
